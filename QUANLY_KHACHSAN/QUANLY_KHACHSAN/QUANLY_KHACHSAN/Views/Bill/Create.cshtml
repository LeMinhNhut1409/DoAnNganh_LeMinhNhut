@model QUANLY_KHACHSAN.Models.Hoadon

@{
    ViewData["Title"] = "Tạo hoá đơn";
    // Kiểm tra vai trò từ claims
    var role = User.FindFirst("Role")?.Value;

    // Đặt layout dựa trên vai trò
    if (role == "Staff")
    {
        Layout = "_StaffLayout"; // Đặt layout cho nhân viên
    }
    else if (role == "Manager")
    {
        Layout = "_ManagerLayout"; // Đặt layout cho quản lý
    }
    else
    {
        Layout = "_DefaultLayout"; // Layout mặc định nếu không xác định được vai trò
    }
}
<div class="text-center">
    <h1 class="display-4" style="color: red;">THANH TOÁN HÓA ĐƠN</h1>
</div>
<div class="container mt-5">
    <form asp-action="Create" method="post">
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="form-group">
                    <label asp-for="Tenkh" class="control-label">Tên Khách Hàng</label>
                    <input name="Tenkh" class="form-control" value="@ViewBag.Makh" readonly />
                    <span asp-validation-for="Tenkh" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Ngaydat" class="control-label">Ngày Đến</label>
                    <input name="Ngaydat" class="form-control" value="@ViewBag.Ngaydat" readonly />
                    <span asp-validation-for="Ngaydat" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Tenphong" class="control-label">Tên Phòng</label>
                    <input name="Tenphong" class="form-control" value="@ViewBag.Mapt" readonly />
                    <span asp-validation-for="Tenphong" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Tylephuthu" class="control-label">Phụ Thu</label>
                    <input name="Tylephuthu" class="form-control" value="@ViewBag.Phuthu" readonly />
                    <span asp-validation-for="Tylephuthu" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label asp-for="Cccd" class="control-label">CCCD</label>
                    <input name="Cccd" class="form-control" value="@ViewBag.CCCD" readonly />
                    <span asp-validation-for="Cccd" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Songayo" class="control-label">Số Ngày Ở</label>
                    <input name="Songayo" class="form-control" value="@ViewBag.songay" readonly />
                    <span asp-validation-for="Songayo" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Ngaylaphd" class="control-label">Ngày Đi</label>
                    <input name="Ngaylaphd" class="form-control" value="@ViewBag.Ngaylaphd" readonly />
                    <span asp-validation-for="Ngaylaphd" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Tongtien" class="control-label">Tổng Tiền</label>
                    <input name="Tongtien" class="form-control" value="@ViewBag.Cost" readonly />
                    <span asp-validation-for="Tongtien" class="text-danger"></span>
                </div>
                <div class="form-group" style="display: none;">
                    <label asp-for="Manv" type="hidden" class="control-label">Nhân Viên Lập Hóa Đơn</label>
                    <select asp-for="Manv" class="form-control" asp-items="ViewBag.Manv" type="hidden" readonly></select>
                    <span asp-validation-for="Manv" class="text-danger"></span>
                </div>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col-md-6 d-flex justify-content-start">
                <a asp-action="Index" class="btn btn-warning btn-block mr-auto">Hủy thanh toán hóa đơn</a>
            </div>
            <div class="col-md-6 d-flex justify-content-end">
                <button type="submit" class="btn btn-primary btn-block ml-auto">Thanh toán</button>
            </div>
        </div>
    </form>
</div>